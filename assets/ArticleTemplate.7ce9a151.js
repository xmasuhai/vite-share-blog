import{a as A}from"./blog.0db2998e.js";import{d as V,b,k as c,E as B,z as x,e,T as k,i as T,F as D,t as F,v as R,G as z,B as $}from"./vendor.c3c68332.js";const E=V("blogStore",{state:()=>({title:"",description:"",content:"",atIndex:!1}),getters:{getTitle:t=>t.title,getDescription:t=>t.description,getContent:t=>t.content,getAtIndex:t=>t.atIndex,getBlogFullInfo:t=>({title:t.title,description:t.description,content:t.content,atIndex:t.atIndex})},actions:{setTitle(t){this.title=t.title},setDescription(t){this.description=t.description},setContent(t){this.content=t.content},setAtIndex(t){this.atIndex=t.atIndex},setBlogFullInfo(t){this.title=t.title,this.description=t.description,this.content=t.content,this.atIndex=t.atIndex}}});var U=E;const N="_article_1hnep_47",M="_create-edit_1hnep_111",P="_main-title_1hnep_114",j="_sub-title_1hnep_117",q="_msg_1hnep_120",G="_switch-box_1hnep_126",O="_label_1hnep_131",W="_label-text_1hnep_131";var l={article:N,"create-edit":"_create-edit_1hnep_111",createEdit:M,"main-title":"_main-title_1hnep_114",mainTitle:P,"sub-title":"_sub-title_1hnep_117",subTitle:j,msg:q,"switch-box":"_switch-box_1hnep_126",switchBox:G,label:O,"label-text":"_label-text_1hnep_131",labelText:W};const H={subTitle:String,autoSize:{type:Object,default:{minRows:1,maxRows:1}},wordCount:{type:Number,default:30},checkWordCount:Function,inputValue:{type:String,default:"",required:!0}};var g=b({name:"ArticleTextArea",props:H,emits:["inputValueChange"],components:{},setup(t,p){const i=c(""),{inputValue:s}=B(t);return x(s,()=>{i.value=s.value}),x([i],([a])=>{p.emit("inputValueChange",a)}),{inputString:i}},render(){return e(D,null,[e("h3",{class:l.subTitle},[`${this.subTitle}:`]),e(k,{placeholder:`\u5728\u6B64\u8F93\u5165${this.subTitle}\uFF0C\u9650${this.wordCount}\u4E2A\u5B57`,"auto-size":this.autoSize,value:this.inputString,"onUpdate:value":t=>this.inputString=t},null),e("p",{class:l.msg},[`0/${this.wordCount}`,T(" ")])])}});const J={mainTitle:String,btnText:String,mode:String};var Q=b({name:"ArticleTemplate",props:J,emits:["handleClick"],components:{},setup(t,p){const i=U(),s=c(""),a=c(""),o=c(""),u=c(!1),I=F(),_=c(0),v=async()=>{_.value=parseInt(I.params.blogId);const n=await A({blogId:_.value}),{title:r,description:d,content:h,atIndex:m}=n.data;return i.setBlogFullInfo({titleData:r,descriptionData:d,contentData:h,atIndexData:m}),s.value=r,a.value=d,o.value=h,u.value=m,{title:s.value,description:a.value,content:o.value,atIndex:u.value}};x([s,a,o,u],([n,r,d,h])=>{i.$patch({title:n,description:r,content:d,atIndex:h})});const w=()=>{p.emit("handleClick",{title:s.value,description:a.value,content:o.value,atIndex:u.value})},C=n=>{s.value=n,i.setTitle(n)},S=n=>{a.value=n,i.setDescription(n)},f=n=>{o.value=n,i.setContent(n)};return R(async()=>{t.mode==="edit"&&await v()}),{title:s,description:a,content:o,atIndex:u,handleClick:w,changeTitle:C,changeDescription:S,changeContent:f}},render(){return e("section",{class:l.createEdit},[e("h1",{class:l.mainTitle},[this.mainTitle]),e(g,{subTitle:"\u6587\u7AE0\u6807\u9898",wordCount:30,inputValue:this.title,"onUpdate:inputValue":t=>this.title=t,onInputValueChange:t=>{this.changeTitle(t)}},null),e(g,{subTitle:"\u5185\u5BB9\u7B80\u4ECB",wordCount:30,autoSize:{minRows:2,maxRows:2},inputValue:this.description,"onUpdate:inputValue":t=>this.description=t,onInputValueChange:t=>{this.changeDescription(t)}},null),e(g,{subTitle:"\u6587\u7AE0\u5185\u5BB9(\u4EC5\u9650Markdown\u683C\u5F0F)",wordCount:3e4,autoSize:{minRows:18,maxRows:18},inputValue:this.content,"onUpdate:inputValue":t=>this.content=t,onInputValueChange:t=>{this.changeContent(t)}},null),e("div",{class:l.switchBox},[e("label",{class:l.label,for:"isShowAtIndex"},[e("span",{class:l.labelText},[T("\u662F\u5426\u5C55\u793A\u5230\u9996\u9875\uFF1A")]),e(z,{id:"isShowAtIndex",checked:this.atIndex,"onUpdate:checked":t=>this.atIndex=t},null)])]),e($,{class:"blog-btn",onClick:this.handleClick},{default:()=>[this.btnText]})])}});export{Q as A,U as u};
